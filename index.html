<!DOCTYPE html>
<html lang=“pt-br”>

<head>
  <meta charset=“utf-8” />
  <meta content=“width=device-width, initial-scale=1, maximum-scale=1” name=“viewport”>
  <title>REITER LOG - Certificado</title>
  <link href=“css/seu-stylesheet.css” rel=“stylesheet” />
  <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.0.2/css/bootstrap.min.css'><link rel="stylesheet" href="./style.css">

</head>

<body>
<?
php include('conecta.php')
?>

  <header class="container" >
    <nav class="navbar navbar-expand-lg navbar-light bg-white">
      <div class="container-fluid">
        <img src="https://www.reiterlog.com/portaln/wp-content/uploads/2020/10/logistica-logo.png" alt="">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item active">
              <a class="nav-link" href="https://www.reiterlog.com/portaln/" name="inicioc">HOME</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://www.reiterlog.com/portaln/reiter-log/" dataset="inicio" id="membros" name="membrosc">INSTITUCIONAL</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://www.reiterlog.com/portaln/nossas-solucoes/" name="ataquesc">NOSSAS SOLUÇÕES</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://www.reiterlog.com/portaln/area-de-cobertura/" name="linksc">ÁREA DE COBERTURA</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://www.reiterlog.com/portaln/sustentabilidade/" name="linksc">SUSTENTABILIDADE</a>
            </li>
            <li>
              <button class="btn btn-danger">CONTATO</button>
            </li>
          </ul>
        </div>
    </nav>
  </header>

  <section class="container center entrada" id="sentrada">
    <div class="">
      <div class="form-group">
        <label for="nome">Nome Completo:</label>
        <input type="text" class="form-control" id="nome" placeholder="Nome Completo" required>
      </div>
      <div class="form-group">
        <label for="cpf">CPF:</label>
        <input type="text" class="form-control cpf" id="cpf" name="cpf" maxlength="11" placeholder="apenas números" onkeyup="fundo(this)" required>
      </div>
      <h5 class="verificador" id="verificador">CPF Incompleto</h5>

          <div class="center text-center">
        <button class="myButton btn-danger" onclick="abrirTreinamentos()">ENTRAR</button>
      </div>

    </div>

  </section>
  <section class="container center treinamento" id="treinamentos">
    <div class="">
      <h1>Lista de Treinamentos</h1>
    </div>
    <div class="divbotao" id="listabotao">
      <button class="myButton" id='botaotreinamento'> Treinamento 1 </button>
      </div>
  </section>


  <section class="video center text-center" id="treinamento1secao">
    <div>
      <div>
        <h1 id="treinamento1titulo">TREINAMENTO Nº 1</h1>
      </div>
      <div class="w-100">
        <video type="video/mp4" src="video\video.mp4" id="player" style="width:100%" class="cplayer" preload></video>
      <div>
        <button class="myButton btn-danger" onclick="document.getElementById('player').play()">PLAY</button>
        <button class="myButton btn-danger" onclick="document.getElementById('player').pause()">PAUSAR</button>
        <button class="myButton btn-danger" onclick="stop()">REINICIAR</button>

      </div>
      <div>
        <h2 id="nomeid">nome completo</h2>
        <h3>CPF <span id="cpfid">xxxxxx</span></h3>
      </div>
      <div class="text-center center">
        <button id="cetificado" class="btn btn-primary final btn-lg" onclick="abrirObrigado()"> GERAR CERTIFICADO</button>
      </div>
      </div>
    </div>
  </section>
  <footer class="bg-danger navbar-fixed-bottom">
    <div class="text-light bruno ">
      <p>Desenvolvido por Bruno de Oliveira.</p>
    </div>
  </footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.4.1/jspdf.debug.js" integrity="sha384-THVO/sM0mFD9h7dfSndI6TS0PgAGavwKvB5hAxRRvc0o9cPLohB0wb/PTA7LdUHs" crossorigin="anonymous"></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.1/js/bootstrap.min.js'></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>


<!-- DEIXAR AS PAGINAS OCULTAS -->

document.getElementById('treinamento1secao').style.display = 'none';
document.getElementById('treinamentos').style.display = 'none';

const opcoes = [
{
    b: "Jurídico",
    titulotreinamento: "Treinamento Jurídico",
    localvideo:'video2.mp4',
    identificador: 'juridico',
    bt: "botaojur",
    indice:"3"
},  
{
    b: "Segurança de Trabalho",
    titulotreinamento: "Treinamento de Segurança do Trabalho",
    localvideo:'video2.mp4',
    identificador: 'seguranca',
    bt: "botaoseg",
    indice:"0"
}, 
{
    b: "Jornada de Trabalho",
    titulotreinamento: "Treinamento de Jornada de Trabalho",
    localvideo:'video2.mp4',
    identificador: 'jornada',
    bt: "botaojor",
    indice:"1"
},
{
  b: "Como usar a Plataforma",
  titulotreinamento: "Treinamento de Como usar a Plataforma",
  localvideo:'video2.mp4',
  identificador: 'plataforma',
  bt: "plataforma",
  indice:"2"
  }
]


function alterarTreinamento(x){
  var alterarTitulo = document.getElementById('treinamento1titulo');
  alterarTitulo.textContent = opcoes[x].titulotreinamento;
  var videot = document.getElementById('player');
  videot.setAttribute ('src', opcoes[x].localvideo)
}

function clonarSecaoTreinamento(x){
  let titulot = document.getElementById('treinamento1secao');
  let clonar2 = titulot.cloneNode(true);
  var divPai2 = titulot.parentNode;
  divPai2.insertBefore(clonar2, titulot);
  clonar2.id = opcoes[x].identificador;
}


function clonarBotao(x){
  let botao = document.getElementById('botaotreinamento');
  let clonar = botao.cloneNode(true);
  var divPai = botao.parentNode;
  clonar.textContent = opcoes[x].b;
  divPai.insertBefore(clonar, botao);
  clonar.id = opcoes[x].bt;

}

opcoes.forEach(function(nome, i) {
    clonarBotao(i);
})

document.addEventListener("click", criar);


function criar(target){
  nomeBotao = event.target.id;
  if (nomeBotao =='botaotreinamento'){
    console.log("treinamento1titulo");
    abrirTreinamento();
  } 
  if (nomeBotao == opcoes[0].bt){
    console.log(nomeBotao);
    alterarTreinamento(0);
    abrirTreinamento();
  }
  if (nomeBotao == opcoes[1].bt){
    console.log(nomeBotao);
    alterarTreinamento(1);
    abrirTreinamento();
  }
  if (nomeBotao == opcoes[2].bt){
    console.log(nomeBotao);
    alterarTreinamento(2);
    abrirTreinamento();
  }
  if (nomeBotao == opcoes[3].bt){
    console.log(nomeBotao);
    alterarTreinamento(3);
    abrirTreinamento();
  }
}

function abrirTreinamentos(){
   var vnome = document.getElementById('nome').value;
   var vcpf = document.getElementById('cpf').value;
   var abrir = document.getElementById('treinamentos');
   if (vnome == '') {
    var d = document.getElementById('nome');
    d.style.borderColor = "red";
   
  }
   if (vcpf == '') {
    var v = document.getElementById('cpf');
    v.style.borderColor = "red";
   }

   if (vcpf.length != 11){
    document.getElementById('verificador').style.display = 'block';
   }
 
   else {
   document.getElementById('nomeid').innerText = vnome
   document.getElementById('cpfid').innerText = vcpf
   abrir.style.display = 'flex';
   fechar();}
  }


function stop(){
   var video = document.getElementById('player');
   video.currentTime = 0;
   video.onload();
   video.onplay();
}

document.getElementById('player').addEventListener('ended',myHandler,false);
    function myHandler(e) {
       var certificado = document.getElementById('cetificado');
       certificado.style.display = 'inline';
    }


function ocultarTreinamentos(){
  var vartreinamento = document.getElementById('treinamentos')
  vartreinamento.style.display = 'none';
}

function abrirTreinamento(){
  var treinamento1 = document.getElementById('treinamento1secao');
  treinamento1.style.display = 'flex';
  ocultarTreinamentos();
}



function fechar(){
  var f = document.getElementById('sentrada')
  f.style.display = 'none'
}

function fundo(x){
  var vcpf = document.getElementById('cpf').value;
  var v = document.getElementById('cpf');
  if (vcpf.length == 11){
    document.getElementById('verificador').style.display = 'none';
    v.style.borderColor = "green";
  }
  else{
    v.style.borderColor = "red";
  }
}

function abrirObrigado(){
  window.open('obrigado.html', '_self');

}

</script>

</body>
</html>
